(()=>{"use strict";var e={481:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),(new(i(n(483)).default)).logParsedTags()},483:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function d(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,d)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.serverUrl="http://127.0.0.1:5000",this.summarizedTags=[],this.definitions=[],this.sidebar=null,this.parseHtml(),this.createSidebar(),document.addEventListener("scroll",this.onScroll)}parseHtml(){let e=[];document.querySelectorAll("p").forEach((t=>{const n=crypto.randomUUID();t.id=n,e.push({id:n,text:t.textContent||""})})),this.summarizeText(e)}createSidebar(){const e=document.createElement("div");this.sidebar=e;const t=document.createElement("div"),n=document.createElement("body");for(n.style.display="grid",n.style.gridTemplateColumns="2fr 1fr",n.appendChild(t),n.appendChild(e);document.body.firstChild;)t.appendChild(document.body.firstChild);const i=document.querySelector("html"),o=document.querySelector("body");i.removeChild(o),i.appendChild(n)}summarizeText(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(this.serverUrl,{method:"POST",body:JSON.stringify(e)}),n=yield t.json();this.summarizedTags=n.summary,this.definitions=n.definitions}))}onScroll(){}isElementVisible(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}logParsedTags(){console.log(this.summarizedTags),console.log(this.definitions)}}}},t={};!function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(481)})();